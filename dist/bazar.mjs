var e=function(e){if(!e)throw new Error("config object is required to correctly notify a state update");var n=e.id,r=(0,e.sync)();Object.keys(_BAZAR_STORE_).forEach(function(e){if(-1!==(_BAZAR_STORE_[e].interests||[]).indexOf(n)){var t=_BAZAR_STORE_[e].handler;if(!t)throw new Error("Attempted trigger of undefined handler on "+e);t(n,r)}})},n=function(e){var n=e.id,r=e.sync,t=e.handler,o=e.interests;if(!n)throw new Error("Expected registrant to have non-null id value");if(!r)throw new Error("Expected registrant to have a sync function");if(_BAZAR_STORE_.hasOwnProperty(n))throw new Error("Expected unique id");_BAZAR_STORE_[n]={interests:o,handler:t,sync:r}},r=function(e){if(!_BAZAR_STORE_.hasOwnProperty(e))throw new Error("Attempted reading state from "+e+", non-registered component");return _BAZAR_STORE_[e].sync()},t=function(e){var n={};return e.forEach(function(e){if(!_BAZAR_STORE_.hasOwnProperty(e))throw new Error("Attempted reading state from "+e+", non-registered component");n[e]=_BAZAR_STORE_[e].sync()}),n},o=function(e){return(_BAZAR_STORE_.initial||{})[e]},i=function(e){void 0===e&&(e={}),("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})._BAZAR_STORE_={},_BAZAR_STORE_.initial={};var n=Object.keys(e);n.length>0&&n.forEach(function(n){_BAZAR_STORE_.initial[n]=e[n]})};export{i as initStore,o as initState,r as getState,t as getStates,n as register,e as notify};
//# sourceMappingURL=bazar.mjs.map
