var e=function(e,n){var o=e.id,t=e.notifs;void 0===t&&(t=[]);var r=e.ignores;void 0===r&&(r=[]);var i="object"==typeof n?Object.assign({},n):n;r.length>0&&r.forEach(function(e){delete i[e]}),_store_[o]=Object.assign({},_store_[o],{state:i}),t.forEach(function(e){var n=_store_[e];if(!n)throw new Error("Trying to notify a non-existent component");var o={};n.interests.forEach(function(e){return o[e]=_store_[e].sync()}),n.handler(o)})},n=function(e,n){var o=e.id,t=e.notifs;void 0===t&&(t=[]);var r=e.interests;void 0===r&&(r=[]);var i=e.ignores;void 0===i&&(i=[]);var s=e.handler;void 0===s&&(s=void 0);var a=e.sync;if(void 0===a&&(a=void 0),!o)throw new Error("Expected registrar to have non-null id value");if(_store_.hasOwnProperty(o))throw new Error("Expected unique id");var d=Object.assign({},n);i.length>0&&i.forEach(function(e){delete d[e]}),_store_[o]={notifs:t,interests:r,handler:s,sync:a,state:d}},o=function(){("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})._store_={}};export{o as initStore,n as register,e as dispatch};
//# sourceMappingURL=bazar.mjs.map
