var e=new Map,n=function(n){var r=e.get(n).sync;if(!r)throw new Error("Sync is required to issue an edict");var t=r();e.forEach(function(e){e.interests.has(n)&&(0,e.onEdict)(n,t)})},r=function(n){var r=n.id,t=n.interests;void 0===t&&(t=[]);var i=n.willRerender,o=n.onEdict;if("string"!=typeof r)throw new TypeError("id should be a string");if(e.has(r)&&!i)throw new Error("Expected unique id");if(t.length>0&&"function"!=typeof o)throw new Error("onEdict is required when expressing interests");e.set(r,Object.assign({},n,{interests:new Set(t)}))},t=function(n,r){var t=(e.get(n)||{}).onPoke;if(!t)throw new Error("Poking component without onPoke method");t(r)},i=function(n){var r=(e.get(n)||{}).sync;return r?r():void 0},o=function(){return e.clear()};export{i as getState,r as register,n as edict,t as poke,o as clearStore};
