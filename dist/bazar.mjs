var n=new Map,r=function(r){var e=n.get(r).sync;if(!e)throw new Error("Sync is required to issue an edict");var t=e();n.forEach(function(n,e){if(n.interests.has(r)){var i=n.onEdict;if(!i)throw new Error("Triggering undefined onEdict on "+e);i(r,t)}})},e=function(r){var e=r.id,t=r.interests;void 0===t&&(t=[]);var i=r.willRerender;if(void 0===i&&(i=!1),!e)throw new Error("Expected non-null id");if(n.has(e)&&!i)throw new Error("Expected unique id");n.set(e,Object.assign({},r,{interests:new Set(t)}))},t=function(r,e){var t=(n.get(r)||{}).onPoke;if(!t)throw new Error("Poking component without onPoke method");t(e)},i=function(r){var e=(n.get(r)||{}).sync;return e?e():void 0},o=function(){return n.clear()};export{i as getState,e as register,r as edict,t as poke,o as clearStore};
