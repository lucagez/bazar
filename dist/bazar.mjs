var n=new Map,r=function(r){var e=n.get(r).sync;if(!e)throw new Error("Sync is required to issue an edict");var i=e();n.forEach(function(n,e){if(n.interests.has(r)){var o=n.onEdict;if(!o)throw new Error("Triggering undefined onEdict on "+e);o(r,i)}})},e=function(r){var e=r.id,i=r.interests;void 0===i&&(i=[]);var o=r.willRerender;if(void 0===o&&(o=!1),!e)throw new Error("Expected non-null id");if(n.has(e)&&!o)throw new Error("Expected unique id");n.set(e,Object.assign({},r,{interests:new Set(i)}))},i=function(r,e){var i=(n.get(r)||{}).onPoke;if(!i)throw new Error("Poking component without onPoke method");i(e)},o=function(r){var e=(n.get(r)||{}).sync;return e?e():void 0};export{o as getState,e as register,r as edict,i as poke};
