!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.bazar={})}(this,function(e){e.initStore=function(e){void 0===e&&(e={}),("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})._BAZAR_STORE_={},_BAZAR_STORE_.initial={};var n=Object.keys(e);n.length>0&&n.forEach(function(n){_BAZAR_STORE_.initial[n]=e[n]})},e.initState=function(e){return(_BAZAR_STORE_.initial||{})[e]},e.register=function(e){var n=e.id,t=e.sync,i=e.handler,r=e.interests;if(!n)throw new Error("Expected registrant to have non-null id value");if(!t)throw new Error("Expected registrant to have a sync function");if(_BAZAR_STORE_.hasOwnProperty(n))throw new Error("Expected unique id");_BAZAR_STORE_[n]={interests:r,handler:i,sync:t}},e.dispatch=function(e){var n=e.id,t=[];Object.keys(_BAZAR_STORE_).forEach(function(e){-1!==(_BAZAR_STORE_[e].interests||[]).indexOf(n)&&t.push(e)}),t.forEach(function(e){var n=_BAZAR_STORE_[e],t=n.interests,i=n.handler;if(!i)throw new Error("Attempted trigger of undefined handler on "+e);var r={};t.forEach(function(e){return r[e]=_BAZAR_STORE_[e].sync()}),i(r)})}});
//# sourceMappingURL=bazar.umd.js.map
