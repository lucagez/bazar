!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(n.bazar={})}(this,function(n){n.initStore=function(n){void 0===n&&(n={}),("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})._BAZAR_STORE_={},_BAZAR_STORE_.initial={};var e=Object.keys(n);e.length>0&&e.forEach(function(e){_BAZAR_STORE_.initial[e]=n[e]})},n.initState=function(n){return(_BAZAR_STORE_.initial||{})[n]},n.register=function(n){var e=n.id,t=n.sync,i=n.handler,o=n.notifs;void 0===o&&(o=[]);var r=n.interests;if(void 0===r&&(r=[]),!e)throw new Error("Expected registrant to have non-null id value");if(!t)throw new Error("Expected registrant to have a sync function");if(_BAZAR_STORE_.hasOwnProperty(e))throw new Error("Expected unique id");_BAZAR_STORE_[e]={notifs:o,interests:r,handler:i,sync:t}},n.dispatch=function(n){var e=n.notifs;void 0===e&&(e=[]),e.forEach(function(n){var e=_BAZAR_STORE_[n];if(!e)throw new Error("Trying to notify a non-existent component");var t={};e.interests.forEach(function(n){return t[n]=_BAZAR_STORE_[n].sync()}),e.handler(t)})}});
//# sourceMappingURL=bazar.umd.js.map
