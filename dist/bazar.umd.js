!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.bazar={})}(this,function(e){e.initStore=function(){("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})._store_={}},e.register=function(e,n){var t=e.id,o=e.notifs;void 0===o&&(o=[]);var r=e.interests;void 0===r&&(r=[]);var i=e.ignores;void 0===i&&(i=[]);var s=e.handler;void 0===s&&(s=void 0);var f=e.sync;if(void 0===f&&(f=void 0),!t)throw new Error("Expected registrar to have non-null id value");if(_store_.hasOwnProperty(t))throw new Error("Expected unique id");var d=Object.assign({},n);i.length>0&&i.forEach(function(e){delete d[e]}),_store_[t]={notifs:o,interests:r,handler:s,sync:f,state:d}},e.dispatch=function(e,n){var t=e.id,o=e.notifs;void 0===o&&(o=[]);var r=e.ignores;void 0===r&&(r=[]);var i="object"==typeof n?Object.assign({},n):n;r.length>0&&r.forEach(function(e){delete i[e]}),_store_[t]=Object.assign({},_store_[t],{state:i}),o.forEach(function(e){var n=_store_[e];if(!n)throw new Error("Trying to notify a non-existent component");var t={};n.interests.forEach(function(e){return t[e]=_store_[e].sync()}),n.handler(t)})}});
//# sourceMappingURL=bazar.umd.js.map
