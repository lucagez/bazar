!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.bazar={})}(this,function(e){var n=new Map;e.getState=function(e){var t=(n.get(e)||{}).sync;return t?t():void 0},e.register=function(e){var t=e.id,o=e.willRerender;if(void 0===o&&(o=!1),!t)throw new Error("Expected non-null id");if(n.has(t)&&!o)throw new Error("Expected unique id");n.set(t,Object.assign({},e))},e.edict=function(e){var t=n.get(e).sync;if(!t)throw new Error("Sync is required to issue an edict");var o=t();n.forEach(function(t,r){var i=n.get(r);if(-1!==(i.interests||[]).indexOf(e)){var d=i.onEdict;if(!d)throw new Error("Triggering undefined onEdict on "+r);d(e,o)}})},e.poke=function(e,t){var o=(n.get(e)||{}).onPoke;if(!o)throw new Error("Poking component without onPoke method");o(t)}});
