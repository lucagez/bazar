var e=new Map;exports.getState=function(r){var t=(e.get(r)||{}).sync;return t?t():void 0},exports.register=function(r){var t=r.id,n=r.interests;void 0===n&&(n=[]);var o=r.willRerender,i=r.onEdict;if("string"!=typeof t)throw new TypeError("id should be a string");if(e.has(t)&&!o)throw new Error("Expected unique id");if(n.length>0&&"function"!=typeof i)throw new Error("onEdict is required when expressing interests");e.set(t,Object.assign({},r,{interests:new Set(n)}))},exports.edict=function(r){var t=e.get(r).sync;if(!t)throw new Error("Sync is required to issue an edict");var n=t();e.forEach(function(e){e.interests.has(r)&&(0,e.onEdict)(r,n)})},exports.poke=function(r,t){var n=(e.get(r)||{}).onPoke;if(!n)throw new Error("Poking component without onPoke method");n(t)},exports.clearStore=function(){return e.clear()};
