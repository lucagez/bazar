var e=new Map;exports.getState=function(r){var t=(e.get(r)||{}).sync;return t?t():void 0},exports.register=function(r){var t=r.id,n=r.interests;void 0===n&&(n=[]);var o=r.willRerender;if(void 0===o&&(o=!1),!t)throw new Error("Expected non-null id");if(e.has(t)&&!o)throw new Error("Expected unique id");e.set(t,Object.assign({},r,{interests:new Set(n)}))},exports.edict=function(r){var t=e.get(r).sync;if(!t)throw new Error("Sync is required to issue an edict");var n=t();e.forEach(function(e,t){if(e.interests.has(r)){var o=e.onEdict;if(!o)throw new Error("Triggering undefined onEdict on "+t);o(r,n)}})},exports.poke=function(r,t){var n=(e.get(r)||{}).onPoke;if(!n)throw new Error("Poking component without onPoke method");n(t)},exports.clearStore=function(){return e.clear()};
