var e=new Map;exports.getState=function(r){var n=(e.get(r)||{}).sync;return n?n():void 0},exports.register=function(r){var n=r.id,t=r.interests;void 0===t&&(t=[]);var o=r.willRerender;if(void 0===o&&(o=!1),!n)throw new Error("Expected non-null id");if(e.has(n)&&!o)throw new Error("Expected unique id");e.set(n,Object.assign({},r,{interests:new Set(t)}))},exports.edict=function(r){var n=e.get(r).sync;if(!n)throw new Error("Sync is required to issue an edict");var t=n();e.forEach(function(e,n){if(e.interests.has(r)){var o=e.onEdict;if(!o)throw new Error("Triggering undefined onEdict on "+n);o(r,t)}})},exports.poke=function(r,n){var t=(e.get(r)||{}).onPoke;if(!t)throw new Error("Poking component without onPoke method");t(n)};
