exports.initStore=function(n){void 0===n&&(n={}),("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})._BAZAR_STORE_={},_BAZAR_STORE_.initial={};var e=Object.keys(n);e.length>0&&e.forEach(function(e){_BAZAR_STORE_.initial[e]=n[e]})},exports.initState=function(n){return(_BAZAR_STORE_.initial||{})[n]},exports.getState=function(n){var e=(_BAZAR_STORE_[n]||{}).sync;return e?e():void 0},exports.register=function(n){var e=n.id,o=n.willRerender;if(void 0===o&&(o=!1),!e)throw new Error("Expected non-null id");if(_BAZAR_STORE_.hasOwnProperty(e)&&!o)throw new Error("Expected unique id");_BAZAR_STORE_[e]=Object.assign({},n)},exports.notify=function(n){var e=_BAZAR_STORE_[n].sync;if(!e)throw new Error("Sync is required to notify a state update");var o=e();Object.keys(_BAZAR_STORE_).forEach(function(e){if(-1!==(_BAZAR_STORE_[e].interests||[]).indexOf(n)){var t=_BAZAR_STORE_[e].onNotify;if(!t)throw new Error("Triggering undefined onNotify on "+e);t(n,o)}})},exports.poke=function(n,e){var o=(_BAZAR_STORE_[n]||{}).onPoke;if(!o)throw new Error("Poking component without onPoke method");o(e)};
